# Вершинный атрибуты

для начала напишем код в main.cpp(ну или где вы там пишете)
```cpp
#include "core/core.hpp"

// создадим вектор с координатами вершин треугольника
// и c цветами вершин
std::vector<float> vert {
    //x, y, r, g, b
      0, 0, 1, 0, 0, // первая вершина
      0, 1, 0, 1, 0, // вторая вершина
      1, 0, 0, 0, 1  // третья вершина
};

int main()
{
	try
	{
		core::Init();
		
		Window win("first window", 1280, 720);
		win.setContext();

        	// создадим vao
        	VAO vao(vert, 5);
        	// обратите внимания, что я передаю 5,
        	// т.к. на одну вершину 5 элементов: x, y, r, g, b

		// теперь мы должны объединить шейдер и vao, для этого используются атрибуты
        	vao.addAttribute(0, 2, 0);
        	// этой функцией мы сказали что первые два элемента 
        	// вершину будут иметь индекс 0

        	vao.addAttribute(1, 3, 2); 
        	// этой функцией мы сказали что последние 
        	// три элемента вершины будут иметь индекс 1 

		while (!win.event->close())
		{
			win.event->update();

			// тут будем что-то рисовать в будущем

			win.swapBuffers();
			win.setSizeBuffer(win.width, win.height);
		}
	}
	catch (...)
	{
		core::Terminate();
		return -1;
	}

	core::Terminate();
	return 0;
}
```

## напишем в начале вершинный шейдер
``` glsl
#version 460 core
//это строчка обозначает версию glsl 4.60

layout (location = 0) in vec2 pos;
// этой строчкой мы привязываем атрибут с индексом 0 к переменной pos
// цифра 0 - это индекс атрибута который мы написали при создание атрибута

layout (location = 1) in vec3 color;
// этой строчкой мы привязываем атрибут с индексом 1 к переменной v_color
// цифра 1 - это индекс атрибута который мы написали при создание атрибута

out vec3 v_color;
// отправляем переменную v_color в фрагментный шейдер

void main()
{                   //vec2,   z,   w
    gl_Position = vec4(pos, 0.0, 1.0);
    // это переменная она встроена в glsl и в неё передаются координаты вершины
    v_color = color;

}
```

## теперь напишем фрагментный шейдер

``` glsl
#version 460 core

out vec4 f_color;
// эта строчка говорит что переменная f_color будет цветом вершины
// в openGL есть понятие: конвеер, так вот эта строчка
// передаёт цвет дальше по ковееру (это просто надо запомнить)

in vec3 v_color;
// этой строчкой мы получаем переменную f_color из вершинного шейдера

void main()
{               // vec3,    a
    f_color = vec4(v_color, 1);
}
```

+ [дальше](matrix.md)
+ [назад](shader.md) 
+ [в оглавление](manual.md)
